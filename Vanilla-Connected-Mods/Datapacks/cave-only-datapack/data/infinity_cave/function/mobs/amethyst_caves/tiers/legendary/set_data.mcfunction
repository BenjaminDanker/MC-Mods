$execute store result storage infinity_cave:amethyst_caves data.legendary.int int 1 run random value 1..$(entries)

function infinity_cave:mobs/amethyst_caves/tiers/legendary/set with storage infinity_cave:amethyst_caves data.legendary